;; 避免多个客户端启动
(server-start)
;; 关闭开机画面
(setq inhibit-startup-message t)
;; 光标显示为一竖线
(setq-default cursor-type 'bar)
;; 没有提示音，也不闪屏。
(setq ring-bell-function 'ignore)
;; 自動保存設置 
(setq auto-save-mode t)
;; 光标靠近鼠标时鼠标跳开
(mouse-avoidance-mode 'animate)
;; 去掉那个大大的工具栏
(tool-bar-mode nil)
;; 默认的主模式
(setq default-major-mode 'text-mode)
;; 在minibuffer里启用自动补全函数和变量
(icomplete-mode t)
;; 语法高亮
(global-font-lock-mode t)
;; 设置打开文件的缺省路径
(setq default-directory "E:\\exercise")
 
;; 在 mode-line 中显示列号
(setq column-number-mode t)
;; 使用 C-k 删除整行
(setq-default kill-whole-line t)
;; 设置 kill-ring 的大小
(setq kill-ring-max 50)
;; 备份文件目录
(setq backup-by-copying t) ; 自动备份
;;自动备份目录~/.emacs.d/backup
(setq backup-directory-alist '(("." . "~/.emacs.d/backup"))) 
(setq delete-old-versions t) ; 自动删除旧的备份文件
(setq kept-new-versions 2) ; 保留最近的3个备份文件
(setq kept-old-versions 1) ; 保留最早的2个备份文件
(setq version-control t) ; 多次备份
;; 不要问 yes-or-no，只问 y-or-n
(defalias 'yes-or-no-p 'y-or-n-p)
;; 设置 emacs 的标题
(setq frame-title-format "emacs@%b %f")
;; 可以显示图片
(auto-image-file-mode)
;; 高亮显示选中区域
(transient-mark-mode t)
;;;不要生成备份文件
;(setq-default make-backup-files nil)
;;;; 显示行号
(setq column-number-mode t)
(setq line-number-mode t)
;;;; 显示时间
(setq display-time-24hr-format t)
(setq display-time-day-and-date t)
(display-time)
;; 代码折叠 
(load-library "hideshow") 
(add-hook 'java-mode-hook 'hs-minor-mode) 
(add-hook 'perl-mode-hook 'hs-minor-mode) 
(add-hook 'php-mode-hook 'hs-minor-mode) 
(add-hook 'emacs-lisp-mode-hook 'hs-minor-mode)
;;;;;;;;公用功能快捷键设置
;;F1列模式
(global-set-key [f1] 'cua-mode)
;;恢复，常用键 
(global-set-key [f2] 'undo) 
;;F4,kill键，习惯设置，关闭当前buffer 
(global-set-key [f4] 'kill-this-buffer)
;;定义查找快捷键
(global-set-key [f5] 'replace-regexp) ;;支持正则表达式
(global-set-key [f6] 'replace-string)
;;设置保存当前文件快捷
(global-set-key [f8] 'save-buffer);
;;;;;;;;;;F10默认为选择菜单栏
;;打开一个终端，可以绑定为：eshell,shell,terminal-emulator 
;;(global-set-key [f12] 'eshell) 
;;绑定按键 
(global-set-key [(meta ?/)] 'hippie-expand)
(custom-set-variables
  ;; custom-set-variables was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 '(column-number-mode t)
 '(display-time-mode t)
 '(scroll-bar-mode (quote right))
 '(tool-bar-mode nil))
(custom-set-faces
  ;; custom-set-faces was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 )
